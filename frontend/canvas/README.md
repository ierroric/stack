# canvas

## canvas 动画原理
canvas做动画的原理，就是在canvas这个画板上画出内容，几毫秒后擦除再画下一帧，几毫秒后擦除再画下一帧… 直到到达最终状态，停止绘制；

canvas 做简单的动画，和canvas本身的关系不大，主要还是“无css3时代”的那一套js动画逻辑；

页面出现了动画，肯定是有元素的属性在改变，大部分改变的也是一个数字；js做动画主要逻辑(思路)算是有两类：

1. 固定间隔方式: <br/>
动画的每一帧(定时器)里边，**当前值 = 初始值 + 当前次数 * 固定间隔**，通过控制固定间隔的大小来控制总的动画时间；

2. 固定时间方式；<br/>
动画的总时间固定，帧率固定，相除得出总的运动次数；<br/>
动画的结束位置 减去 动画的开始位置，得到动画值的差；<br/>
动画的每一帧里边，**当前值 = 初始值 + 动画差值 * (当前次数 / 总次数)** 

**下面是简单的逻辑推导，在各种缓冲、加速运动时会用到：
- 当前次数 / 总次数 =>
- 1 / 总次数 * 当前次数 =>
- 总次数是小于1的定值，设为a，那么当前值y与次数x的关系就是 y = ax； ==>
- 所以，当前运动为斜率小于1的运动


## canvas做动画的基本步骤
0. 画出不动的元素；画出不需要做动画的静态图形；
1. 初始化canvas和准备工作
2. 找到动画的起始位置，也就是动画图形的初始和结束状态；
3. 找出次数与动画的关系(每一帧与次数/时间的关系)；
多个元素做动画可能会有先后顺序，这个要复杂些；
4. 找到结束状态，关闭动画；
